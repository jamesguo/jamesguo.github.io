<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Android | James Guo Blog]]></title>
  <link href="http://jamesguo.github.io/blog/categories/android/atom.xml" rel="self"/>
  <link href="http://jamesguo.github.io/"/>
  <updated>2015-07-24T16:59:32+08:00</updated>
  <id>http://jamesguo.github.io/</id>
  <author>
    <name><![CDATA[James Guo]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NDK开发常见错误（持续更新……）]]></title>
    <link href="http://jamesguo.github.io/blog/2015/07/03/ndkkai-fa-chang-jian-cuo-wu/"/>
    <updated>2015-07-03T15:00:02+08:00</updated>
    <id>http://jamesguo.github.io/blog/2015/07/03/ndkkai-fa-chang-jian-cuo-wu</id>
    <content type="html"><![CDATA[<h3>GetEnv问题</h3>

<h4>C++ 使用代码格式</h4>

<pre><code>clazz = env-&gt;FindClass(env,kClassBoa);
int getEnvStat = vm-&gt;GetEnv((void **) &amp;env, JNI_VERSION_1_6);
</code></pre>

<h4>C 使用代码格式</h4>

<pre><code>clazz = (*env)-&gt;FindClass(env,kClassBoa);
int getEnvStat = (*vm)-&gt;GetEnv(vm, (void **) &amp;env, JNI_VERSION_1_6);
</code></pre>

<!-- more -->


<h3>日志输出</h3>

<h4>日志定义</h4>

<pre><code>#include &lt;android/log.h&gt;
#define TAG "HookBridge"
#define JLOGD(...) __android_log_print(ANDROID_LOG_DEBUG, TAG, __VA_ARGS__)
</code></pre>

<h3>Crash分析</h3>

<h4>日志分析&ndash;arm-linux-androideabi-addr2line</h4>

<pre><code class="``">  /toolchains/arm-linux-androideabi-4.8/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-addr2line -e /obj/local/armeabi-v7a/libhello-jni.so 00000cf4 00000d1c
</code></pre>

<h4>日志分析&ndash;arm-linux-androideabi-objdump</h4>

<pre><code class="``">  /toolchains/arm-linux-androideabi-4.8/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-objdump -S -D /obj/local/armeabi-v7a/libhello-jni.so &gt; /Desktop/dump.log
</code></pre>

<h4>日志分析&ndash;ndk-stack</h4>

<pre><code class="``">  adb logcat | ndk-stack -sym /obj/local/armeabi-v7a  
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android Native Crash收集]]></title>
    <link href="http://jamesguo.github.io/blog/2015/07/02/android-native-crashshou-ji/"/>
    <updated>2015-07-02T16:47:35+08:00</updated>
    <id>http://jamesguo.github.io/blog/2015/07/02/android-native-crashshou-ji</id>
    <content type="html"><![CDATA[
]]></content>
  </entry>
  
</feed>
